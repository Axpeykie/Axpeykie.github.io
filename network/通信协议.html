<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HTTP | Axpeykie&#39;s blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="share!">
    
    <link rel="preload" href="/assets/css/0.styles.e4d8b86b.css" as="style"><link rel="preload" href="/assets/js/app.65ca9bb5.js" as="script"><link rel="preload" href="/assets/js/2.14a13fa9.js" as="script"><link rel="preload" href="/assets/js/27.50cef554.js" as="script"><link rel="prefetch" href="/assets/js/10.2f94525b.js"><link rel="prefetch" href="/assets/js/11.6a5cc2f2.js"><link rel="prefetch" href="/assets/js/12.90aa9cb7.js"><link rel="prefetch" href="/assets/js/13.475ad283.js"><link rel="prefetch" href="/assets/js/14.6cb0a9fd.js"><link rel="prefetch" href="/assets/js/15.7b3ce09f.js"><link rel="prefetch" href="/assets/js/16.f0a5d30e.js"><link rel="prefetch" href="/assets/js/17.ea63d749.js"><link rel="prefetch" href="/assets/js/18.b5af9e97.js"><link rel="prefetch" href="/assets/js/19.7e6f0376.js"><link rel="prefetch" href="/assets/js/20.b943776b.js"><link rel="prefetch" href="/assets/js/21.cd936ef8.js"><link rel="prefetch" href="/assets/js/22.66334dda.js"><link rel="prefetch" href="/assets/js/23.49c91fd5.js"><link rel="prefetch" href="/assets/js/24.f58389e9.js"><link rel="prefetch" href="/assets/js/25.cc2a94e5.js"><link rel="prefetch" href="/assets/js/26.07102b13.js"><link rel="prefetch" href="/assets/js/28.f5f36556.js"><link rel="prefetch" href="/assets/js/29.6a3fa8c9.js"><link rel="prefetch" href="/assets/js/3.32769151.js"><link rel="prefetch" href="/assets/js/30.8d82b854.js"><link rel="prefetch" href="/assets/js/4.63745a10.js"><link rel="prefetch" href="/assets/js/5.e36bd015.js"><link rel="prefetch" href="/assets/js/6.1017c97b.js"><link rel="prefetch" href="/assets/js/7.b60ae1a9.js"><link rel="prefetch" href="/assets/js/8.2523b28c.js"><link rel="prefetch" href="/assets/js/9.aa7b199d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4d8b86b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Axpeykie's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博文" class="dropdown-title"><span class="title">博文</span> <span class="arrow down"></span></button> <button type="button" aria-label="博文" class="mobile-dropdown-title"><span class="title">博文</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/js/" class="nav-link">
  JS
</a></li><li class="dropdown-item"><!----> <a href="/css.html" class="nav-link">
  css
</a></li><li class="dropdown-item"><!----> <a href="/network/" class="nav-link router-link-active">
  网络通信
</a></li><li class="dropdown-item"><!----> <a href="/vue.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/算法/" class="nav-link">
  算法
</a></li></ul></div></div><div class="nav-item"><a href="/about.html" class="nav-link">
  关于
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博文" class="dropdown-title"><span class="title">博文</span> <span class="arrow down"></span></button> <button type="button" aria-label="博文" class="mobile-dropdown-title"><span class="title">博文</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/js/" class="nav-link">
  JS
</a></li><li class="dropdown-item"><!----> <a href="/css.html" class="nav-link">
  css
</a></li><li class="dropdown-item"><!----> <a href="/network/" class="nav-link router-link-active">
  网络通信
</a></li><li class="dropdown-item"><!----> <a href="/vue.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/算法/" class="nav-link">
  算法
</a></li></ul></div></div><div class="nav-item"><a href="/about.html" class="nav-link">
  关于
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/network/" aria-current="page" class="sidebar-link">网络通信</a></li><li><a href="/network/三次握手四次挥手.html" class="sidebar-link">三次握手四次挥手</a></li><li><a href="/network/通信协议.html" class="active sidebar-link">通信协议</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/network/通信协议.html#http1-0" class="sidebar-link">HTTP1.0</a></li><li class="sidebar-sub-header"><a href="/network/通信协议.html#http1-1" class="sidebar-link">HTTP1.1</a></li><li class="sidebar-sub-header"><a href="/network/通信协议.html#http2-0" class="sidebar-link">HTTP2.0</a></li><li class="sidebar-sub-header"><a href="/network/通信协议.html#http3-0" class="sidebar-link">HTTP3.0</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/network/通信协议.html#rtt" class="sidebar-link">RTT</a></li></ul></li><li class="sidebar-sub-header"><a href="/network/通信协议.html#请求报文" class="sidebar-link">请求报文</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/network/通信协议.html#请求行" class="sidebar-link">请求行</a></li><li class="sidebar-sub-header"><a href="/network/通信协议.html#请求首部" class="sidebar-link">请求首部</a></li><li class="sidebar-sub-header"><a href="/network/通信协议.html#内容实体" class="sidebar-link">内容实体</a></li></ul></li><li class="sidebar-sub-header"><a href="/network/通信协议.html#响应报文" class="sidebar-link">响应报文</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/network/通信协议.html#状态行" class="sidebar-link">状态行</a></li><li class="sidebar-sub-header"><a href="/network/通信协议.html#响应首部" class="sidebar-link">响应首部</a></li><li class="sidebar-sub-header"><a href="/network/通信协议.html#内容实体-2" class="sidebar-link">内容实体</a></li></ul></li><li class="sidebar-sub-header"><a href="/network/通信协议.html#请求方法" class="sidebar-link">请求方法</a></li><li class="sidebar-sub-header"><a href="/network/通信协议.html#状态码" class="sidebar-link">状态码</a></li><li class="sidebar-sub-header"><a href="/network/通信协议.html#首部字段" class="sidebar-link">首部字段</a></li></ul></li><li><a href="/network/DNS详解.html" class="sidebar-link">DNS详解</a></li><li><a href="/network/HTTP响应状态码.html" class="sidebar-link">HTTP响应状态码</a></li><li><a href="/network/session、token、cookie.html" class="sidebar-link">session、token、cookie</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="http"><a href="#http" class="header-anchor">#</a> HTTP</h1> <p>超文本传输协议，采用请求/响应模型；<br>
无状态协议，协议不保存请求或响应的通信状态；</p> <h1 id="tcp-ip族"><a href="#tcp-ip族" class="header-anchor">#</a> TCP/IP族</h1> <ol><li>应用层：FTP/DNS/HTTP等协议</li> <li>传输层：TCP/UDP（TCP全双工，更稳定，UDP在连接前不需要建立连接，更高效但不稳定）</li> <li>网络层：IP协议等</li> <li>链路层：网路连接的硬件部分</li></ol> <h1 id="数据包"><a href="#数据包" class="header-anchor">#</a> 数据包</h1> <p>数据发送过程每经过一层就将报头和数据打包在一起，接收过程每经过一层就去掉相应的报头。</p> <p><img src="/img/%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/%E6%95%B0%E6%8D%AE%E5%8C%85.jpg" alt="数据包"></p> <h2 id="http1-0"><a href="#http1-0" class="header-anchor">#</a> HTTP1.0</h2> <p>每次发送请求建立一次连接，响应后立即断开。串行连接，短轮询。</p> <h2 id="http1-1"><a href="#http1-1" class="header-anchor">#</a> HTTP1.1</h2> <p>持久连接，长轮询。持久保持TCP连接状态，同一域名下的HTTP请求复用这个连接。HTTP1.1默认开启持久连接；<br>
管道模式（pipelining）把多个请求放到同一个连接中发送，不用等待上一个响应返回就可以发送下一个请求；<br>
引入了更多缓存机制；<br>
允许范围请求，在请求头中加入Range头部，提高宽带利用率；<br>
请求和响应消息必须包含Host头部；</p> <p>缺点：<br>
持久连接采用阻塞模式，必须等上一次请求得到响应才能发送下一次请求。<br>
管道模式虽然不用等待上次响应返回，但响应结果必须按照发送顺序排好，如果前一个请求非常耗时，后面的请求都会受影响
（即线头阻塞Head of line blocking）浏览器默认关闭管道模式。</p> <h2 id="http2-0"><a href="#http2-0" class="header-anchor">#</a> HTTP2.0</h2> <p>协议解析基于二进制；<br>
多路复用：每个数据帧都有序列标识，允许同时发送多个请求；<br>
头部压缩：使用encoder减少需要传输的头部大小，避免重复头部的传输；<br>
服务器推送：省去客户端重复请求的步骤；</p> <p>缺点：一旦连接中出现丢包，之后的所有请求都会停止并等待丢包重载。</p> <h2 id="http3-0"><a href="#http3-0" class="header-anchor">#</a> HTTP3.0</h2> <p>使用基于UDP的QUIC协议；<br>
多路复用；0-RTT；TLS1.3加密；流量控制；有序交付；重传；<br>
优点：实现多个数据流传输互不干扰，解决了HTTP2.0的丢包等待重传问题；<br>
使用特有的UUID标记连接，网络环境变化时只要UUID不变就能继续传输数据。</p> <h3 id="rtt"><a href="#rtt" class="header-anchor">#</a> RTT</h3> <p><img src="/img/%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/RTT.jpg" alt="RTT"></p> <p>RTT=t3-t2<br>
即数据发送完毕到收到确认信号的时间。</p> <h1 id="http报文"><a href="#http报文" class="header-anchor">#</a> HTTP报文</h1> <h2 id="请求报文"><a href="#请求报文" class="header-anchor">#</a> 请求报文</h2> <p>组成：请求行、请求首部、内容实体。</p> <h3 id="请求行"><a href="#请求行" class="header-anchor">#</a> 请求行</h3> <p>请求方法、协议版本。</p> <h3 id="请求首部"><a href="#请求首部" class="header-anchor">#</a> 请求首部</h3> <p>请求URI、客户端信息等。</p> <h3 id="内容实体"><a href="#内容实体" class="header-anchor">#</a> 内容实体</h3> <p>用户信息和资源信息等，可空。</p> <p><img src="/img/%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/%E8%AF%B7%E6%B1%82%E6%8A%A5%E6%96%871.png" alt="请求报文1"></p> <p><img src="/img/%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/%E8%AF%B7%E6%B1%82%E6%8A%A5%E6%96%872.png" alt="请求报文2"></p> <h2 id="响应报文"><a href="#响应报文" class="header-anchor">#</a> 响应报文</h2> <p>组成：状态行、响应首部、内容实体。</p> <h3 id="状态行"><a href="#状态行" class="header-anchor">#</a> 状态行</h3> <p>协议版本，<strong>状态码</strong>。</p> <h3 id="响应首部"><a href="#响应首部" class="header-anchor">#</a> 响应首部</h3> <p>服务器名称，资源标识等。</p> <h3 id="内容实体-2"><a href="#内容实体-2" class="header-anchor">#</a> 内容实体</h3> <p>服务端返回的资源信息等。</p> <p><img src="/img/%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/%E5%93%8D%E5%BA%94%E6%8A%A5%E6%96%871.png" alt="响应报文1"></p> <p><img src="/img/%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/%E5%93%8D%E5%BA%94%E6%8A%A5%E6%96%872.png" alt="响应报文2"></p> <h2 id="请求方法"><a href="#请求方法" class="header-anchor">#</a> 请求方法</h2> <p>GET POST PUT DELETE HEAD OPTIONS</p> <h2 id="状态码"><a href="#状态码" class="header-anchor">#</a> 状态码</h2> <p>1XX 2XX 3XX 4XX 5XX</p> <h2 id="首部字段"><a href="#首部字段" class="header-anchor">#</a> 首部字段</h2> <p>通用首部、请求首部、响应首部、实体首部。</p> <h1 id="https"><a href="#https" class="header-anchor">#</a> HTTPS</h1> <p>基于HTTP，通过SSL或TLS提供加密保护。</p> <p>特点：<br>
内容加密：采用混合加密，中间者无法查看明文内容；<br>
验证身份：通过证书认证客户端访问的是自己的服务器；<br>
保护数据完整性：防止传输内容被中间人篡改。</p> <p>与HTTP区别：<br>
HTTPS需要到证书颁发机构申请证书，一般需要缴费；<br>
HTTPS运行在SSL/TSL之上，SSL/TSL运行在TCP之上，所有内容都经过加密；<br>
HTTP使用80端口，HTTPS使用443端口；<br>
HTTPS可以有效防止运营商劫持，比HTTP安全。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/network/三次握手四次挥手.html" class="prev">
        三次握手四次挥手
      </a></span> <span class="next"><a href="/network/DNS详解.html">
        DNS详解
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.65ca9bb5.js" defer></script><script src="/assets/js/2.14a13fa9.js" defer></script><script src="/assets/js/27.50cef554.js" defer></script>
  </body>
</html>
